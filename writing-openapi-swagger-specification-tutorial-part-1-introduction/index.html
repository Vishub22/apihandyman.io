<!DOCTYPE html>
<html lang="en">

  


<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="apple-touch-icon" href="/images/favicons/favicon.png">
  <link rel="shortcut icon" href="/images/favicons/favicon.ico" type="image/x-icon">
  <link rel="icon" type="image/png" href="/images/favicons/favicon.png">

  <title>Writing OpenAPI (Swagger) Specification Tutorial - Part 1 - Introduction | API Handyman</title>
  <meta name="description" content="Previously in the APIverse… Since I started my Swagger journey, there have been some changes. The Swagger Specification has been donated to the newly created...">
  

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@apihandyman">

  <meta name="twitter:title" content="Writing OpenAPI (Swagger) Specification Tutorial - Part 1 - Introduction">


  <meta name="twitter:url" content="https://apihandyman.io/writing-openapi-swagger-specification-tutorial-part-1-introduction/">


  <meta name="twitter:description" content="Previously in the APIverse… Since I started my Swagger journey, there have been some changes. The Swagger Specification has been donated to the newly created OpenAPI Initiative under the Linux foundation and is reborn as the OpenAPI Specification. Therefore, my Swagger Journey will become an OpenAPI Specification (fka Swagger Specification) Journey.">

  <meta name="twitter:image:src" content="https://apihandyman.io/images/writing-openapi-swagger-specification-tutorial-part-1-introduction/thumbnail.png">

  



  <meta name="og:description" content="Previously in the APIverse… Since I started my Swagger journey, there have been some changes. The Swagger Specification has been donated to the newly created OpenAPI Initiative under the Linux foundation and is reborn as the OpenAPI Specification. Therefore, my Swagger Journey will become an OpenAPI Specification (fka Swagger Specification) Journey.">

<meta name="og:image" content="https://apihandyman.io/images/writing-openapi-swagger-specification-tutorial-part-1-introduction/thumbnail.png">

  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/prism.css">
  <link rel="stylesheet" href="/css/main.css">
  <script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script>  <link rel="canonical" href="/writing-openapi-swagger-specification-tutorial-part-1-introduction/">
  <link rel="stylesheet" href="/css/bootstrap-toc.min.css">
  <link rel="alternate" type="application/rss+xml" title="API Handyman" href="/feed.xml">
  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-58046291-1', 'auto');
  ga('send', 'pageview');

</script>
  

  
</head>

  <body>
      <div class="container">
        <div class="row">
          <div class="col-xs-12 col-md-12">
            <!--<header>-->
  <!-- Static navbar -->
  <nav class="navbar navbar-fixed-top full">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <i class="fa fa-bars fa-2x" aria-hidden="true"></i>
        </button>
        <a class="navbar-brand" href="/">API Handyman</a>
      </div>
      <div id="navbar" class="navbar-collapse collapse">
        <ul class="nav navbar-nav navbar-right">
          
          
            <li class="dropdown">
              <a href="#" class="page-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Series: Writing OpenAPI (Swagger) Specification Tutorial<span class="caret"></span></a>
              <ul class="dropdown-menu">
                
                    <li  class="disabled" ><a class="page-link" href="/writing-openapi-swagger-specification-tutorial-part-1-introduction/">Part 1 - Introduction</a></li>
                
                    <li ><a class="page-link" href="/writing-openapi-swagger-specification-tutorial-part-2-the-basics/">Part 2 - The basics</a></li>
                
                    <li ><a class="page-link" href="/writing-openapi-swagger-specification-tutorial-part-3-simplifying-specification-file/">Part 3 - Simplifying specification file</a></li>
                
                    <li ><a class="page-link" href="/writing-openapi-swagger-specification-tutorial-part-4-advanced-data-modeling/">Part 4 - Advanced Data</a></li>
                
                    <li ><a class="page-link" href="/writing-openapi-swagger-specification-tutorial-part-5-advanced-input-and-output-modeling/">Part 5 - Advanced Input And Output Modeling</a></li>
                
                    <li ><a class="page-link" href="/writing-openapi-swagger-specification-tutorial-part-6-defining-security/">Part 6 - Defining Security</a></li>
                
                    <li ><a class="page-link" href="/writing-openapi-swagger-specification-tutorial-part-7-documentation/">Part 7 - Documentation</a></li>
                
                    <li ><a class="page-link" href="/writing-openapi-swagger-specification-tutorial-part-8-splitting-specification-file/">Part 8 - Splitting specification file</a></li>
                
                    <li ><a class="page-link" href="/writing-openapi-swagger-specification-tutorial-part-9-extending-the-openapi-specification/">Part 9 - Extending the OpenAPI specification</a></li>
                
              </ul>
            </li>
          
          <li class="nav-item nav-dea"><a class="page-link" href="/the-story-behind-the-design-of-everyday-apis-book/">The Design Of Everyday APIs</a></li>
          <li class="nav-item nav-asb"><a class="page-link" href="http://apistylebook.com/">API Stylebook</a></li>
          <li class="dropdown">
              <a href="#" class="page-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">OpenAPI<span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li class="nav-item nav-oas"><a class="page-link" href="/openapi/">What is the OpenAPI Specification</a></li>
              <li class="nav-item nav-oas"><a class="page-link" href="/explore-the-openapi-specification-3.0-with-the-openapi-map/">OpenAPI Map</a></li>
              <li class="nav-item nav-oas"><a class="page-link" href="/writing-openapi-swagger-specification-tutorial-part-1-introduction/">OpenAPI 2.0 Tutorial</a></li>
            </ul>
          </li>
          <li class="dropdown">
              <a href="#" class="page-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Blog<span class="caret"></span></a>
            <ul class="dropdown-menu">
              
              <li class="nav-item"><a class="page-link" href="/categories/posts">Posts</a></li>
              
              <li class="nav-item"><a class="page-link" href="/categories/talks">Talks</a></li>
              
              <li class="nav-item"><a class="page-link" href="/categories/elsewhere">Elsewhere</a></li>
              
            </ul>
          </li>
          <li class="nav-item"><a class="page-link" href="/about/">About</a></li>
        </ul>
      </div><!--/.nav-collapse -->
    </div><!--/.container-fluid -->
  </nav>
<!--</header>-->
          </div>
        </div>
      </div>
      





<header>
  <!--<div class="container main-container full-jumbotron">-->
      <div class="jumbotron" style="background-image: url('/images/writing-openapi-swagger-specification-tutorial-part-1-introduction/thumbnail.png')">
        <div class="header-caption text-center">
          <h1 class="post-title" itemprop="name headline">Part 1 - Introduction</h1>
          
            <h2 class="post-subtitle">Writing OpenAPI (Swagger) Specification Tutorial</h2>
          
        </div>
      </div>
  <!--</div>-->
</header>
      <div class="container main-container">
        <div class = "row">
          <main>
          <div class="hidden-xs hidden-sm col-md-2" role="complementary">
  <nav id="left-banner" data-spy="affix" data-offset-top="400">   
    <div class="book-banner-vertical">
    <p class="book-banner-vertical-top"><a href="https://www.manning.com/books/the-design-of-everyday-apis?a_aid=everyday_apis&a_bid=ad5a0fe0">Read my API design book</a></p>
    <a href="https://www.manning.com/books/the-design-of-everyday-apis?a_aid=everyday_apis&a_bid=ad5a0fe0"><img class="img-responsive center-block " src="/images/commons/everydayapis/meap-design-of-everyday-apis-cover-vertical-small.png"></a>
    <p class="book-banner-vertical-bottom">(affiliate link, use fcclauret discount code to get 37% off)</p>
</div>
  </nav>
</div>
<div class="col-xs-12 col-sm-9 col-md-8" role="main">
  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <div class="row">
  <div class="col-xs-12 col-sm-12 hidden-md hidden-lg">
      <div class="post-summary book-banner-horizontal">
    <p><a class="post-link" href="https://www.manning.com/books/the-design-of-everyday-apis?a_aid=everyday_apis&a_bid=ad5a0fe0">Read my API Design book (affiliate link, use fcclauret discount code to get 37% off)</a></p>
    <a class="post-link" href="https://www.manning.com/books/the-design-of-everyday-apis?a_aid=everyday_apis&a_bid=ad5a0fe0">
      <img class="img-responsive center-block post-summary-thumbnail" src="/images/commons/everydayapis/book-horizontal-banner.png"></a>
  </div>
  </div>
</div>
    <div id="post" class="blog-container" itemprop="articleBody">
      <p class="post-meta">
        
          By
          <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Arnaud Lauret</span></span>
        
        
        &nbsp;&nbsp;|&nbsp;<time datetime="2016-03-02T21:06:48+00:00" itemprop="datePublished">Mar. 2, 2016</time><span>&nbsp;|&nbsp;Posts</span>
      </p>
      <p>Previously in the APIverse…<br />
Since I started my <a href="/starting-a-swagger-journey-beyond-generated-swagger-ui/"><em>Swagger</em> journey</a>, there have been <em>some</em> changes. The <em>Swagger Specification</em> has been <a href="http://swagger.io/introducing-the-open-api-initiative/">donated</a> to the newly created <a href="https://openapis.org/news/announcement/2015/11/new-collaborative-project-extend-swagger-specification-building-connected">OpenAPI Initiative</a> under the Linux foundation and is reborn as the <em><a href="http://apievangelist.com/2016/01/04/the-openapi-specification-fka-the-swagger-specification/">OpenAPI Specification</a></em>. Therefore, my Swagger Journey will become an <em>OpenAPI Specification (fka Swagger Specification) Journey</em>.<!--more--></p>

<h1 id="writing-openapi-fka-swagger-specification-tutorial">Writing OpenAPI (fka Swagger) Specification tutorial</h1>
<p>This tutorial is composed of several posts:</p>

<ul>
  
    
    <li><strong>Part 1 - Introduction</strong></li>
    
  
    
    <li><a class="page-link" href="/writing-openapi-swagger-specification-tutorial-part-2-the-basics/">Part 2 - The basics</a></li>
    
  
    
    <li><a class="page-link" href="/writing-openapi-swagger-specification-tutorial-part-3-simplifying-specification-file/">Part 3 - Simplifying specification file</a></li>
    
  
    
    <li><a class="page-link" href="/writing-openapi-swagger-specification-tutorial-part-4-advanced-data-modeling/">Part 4 - Advanced Data</a></li>
    
  
    
    <li><a class="page-link" href="/writing-openapi-swagger-specification-tutorial-part-5-advanced-input-and-output-modeling/">Part 5 - Advanced Input And Output Modeling</a></li>
    
  
    
    <li><a class="page-link" href="/writing-openapi-swagger-specification-tutorial-part-6-defining-security/">Part 6 - Defining Security</a></li>
    
  
    
    <li><a class="page-link" href="/writing-openapi-swagger-specification-tutorial-part-7-documentation/">Part 7 - Documentation</a></li>
    
  
    
    <li><a class="page-link" href="/writing-openapi-swagger-specification-tutorial-part-8-splitting-specification-file/">Part 8 - Splitting specification file</a></li>
    
  
    
    <li><a class="page-link" href="/writing-openapi-swagger-specification-tutorial-part-9-extending-the-openapi-specification/">Part 9 - Extending the OpenAPI specification</a></li>
    
  
</ul>

<p>This first part explains what is the OpenAPI Specification, why you <em>will</em> use it and what tools you can use to write these specifications.</p>

<h1 id="the-openapi-specification">The OpenAPI Specification</h1>

<p>The OpenAPI Specification is an API description format or API definition language. Basically, an OpenAPI Specification file allow you to describe an API including (among other things):</p>

<ul>
  <li>General information about the API</li>
  <li>Available paths (/resources)</li>
  <li>Available operations on each path (get /resources)</li>
  <li>Input/Output for each operation</li>
</ul>

<p>The Open API Specification’s specification can be found in the <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md">github repository of the Open API Initiative</a>. This document describes every aspect of the Open API Specification.
Even if this documentation is fairly easy to read, I was sometimes a little bit lost. So, based on this <em>text</em> specification, I have created the <em><a href="http://openapi-map.apihandyman.io/?version=2.0">OpenAPI Map</a></em> a <em>visual</em> documentation which can help to figure how a OpenAPI specification file is structured for people who are more visual like me.</p>

<div>
      <a href="http://openapi-map.apihandyman.io/?version=2.0"><img src="/images/commons/openapi/openapi-map-v2.png" /></a>
      <p class="img-label"><a href="http://openapi-map.apihandyman.io/?version=2.0">OpenAPI Map</a></p>
    </div>

<p>Reading the specification is not mandatory to do this tutorial, you can dig into the specification as you discover it through this tutorial.</p>

<h1 id="why-using-an-api-definition-language-such-as-openapi-specification">Why using an API definition language such as OpenAPI specification?</h1>
<p>Using an API definition language such as OpenAPI specification helps to describe easily and quickly an API. It’s particularly useful when you’re in the design process of your API (cf. my <a href="/starting-a-swagger-journey-beyond-generated-swagger-ui/">first post in the series</a>).</p>

<p>Being a simple text file, the OpenAPI specification file can be shared and managed within any <a href="https://en.wikipedia.org/wiki/Version_control">VCS</a> just like [code]<a href="http://blog.smartbear.com/documentation/the-utopia-of-api-documentation/">/code</a>.</p>

<p>Once written, OpenAPI specification file can also be used as:</p>

<ul>
  <li>source material for documentation</li>
  <li>specification for developers</li>
  <li>partial or complete code generation</li>
  <li>and many other things…</li>
</ul>

<h1 id="writing-openapi-specification">Writing OpenAPI Specification</h1>

<p>What can we use to write an OpenAPI Specification file?</p>

<blockquote>
  <p>You kids keep your noses clean, you understand? You’ll be hearing from me if you don’t! We ain’t gonna stand for any weirdness out here! 
<em><a href="http://www.imdb.com/name/nm0589798/?ref_=tt_trv_qu">Officer Dorf</a> about OpenAPI Specification writing</em></p>
</blockquote>

<h2 id="json-vs-yaml">JSON vs YAML</h2>

<div>
      <a href=""><img src="/images/writing-openapi-swagger-specification-tutorial-part-1-introduction/fridopenapi.png" /></a>
      
    </div>

<p>An Open API Specification file can be written either in <a href="https://en.wikipedia.org/wiki/JSON">JSON</a> or <a href="https://en.wikipedia.org/wiki/YAML">YAML</a>. But, if you intend to <em>write</em> and not generate this file, I urge you to do that in YAML as YAML is far more easy to write and read than JSON.</p>

<p>A picture is worth a thousand words, let’s compare a simple definition in JSON…</p>
<div>
  <!-- codeblocksize: 20 -->
  <div class="code-toolbar">
    <div class="btn-group" role="group" aria-label="...">
      <button type="button" class="btn btn-default" onclick="toggle(this, this.parentElement.parentElement.parentElement.children[1], this.parentElement.parentElement.parentElement.children[2].children[0])"><i class="fa fa-expand" aria-hidden="true"></i></button>
      <button type="button" class="btn btn-default"><a target="_blank" href="/code/writing-openapi-swagger-specification-tutorial/simple_openapi_specification_00_YAML_vs_JSON.json"><i class="fas fa-file-code"></i></a></button>
      <button type="button" class="btn btn-default btn-copy"><i class="fas fa-paste"></i></button>
    </div>
  </div>
  <pre class="language-json line-numbers code-collapsed"><code>{
    "swagger": "2.0",
    "info": {
        "version": "1.0.0",
        "title": "Simple API",
        "description": "A simple API to learn how to write OpenAPI Specification"
    },
    "schemes": [
        "https"
    ],
    "host": "simple.api",
    "basePath": "/openapi101",
    "paths": {
        "/persons": {
            "get": {
                "summary": "Gets some persons",
                "description": "Returns a list containing all persons.",
                "responses": {
                    "200": {
                        "description": "A list of Person",
                        "schema": {
                            "type": "array",
                            "items": {
                                "properties": {
                                    "firstName": {
                                        "type": "string"
                                    },
                                    "lastName": {
                                        "type": "string"
                                    },
                                    "username": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}</code></pre>
  <div class="code-bottom-toolbar"><button type="button" class="btn btn-default btn-block" onclick="toggle(this, this.parentElement.parentElement.children[1], this.parentElement.parentElement.children[0].children[0].children[0], true)"><i class="fa fa-expand" aria-hidden="true"></i></button></div>
</div>

<p>…to the same definition in YAML:</p>
<div>
  <!-- codeblocksize: 20 -->
  <div class="code-toolbar">
    <div class="btn-group" role="group" aria-label="...">
      <button type="button" class="btn btn-default" onclick="toggle(this, this.parentElement.parentElement.parentElement.children[1], this.parentElement.parentElement.parentElement.children[2].children[0])"><i class="fa fa-expand" aria-hidden="true"></i></button>
      <button type="button" class="btn btn-default"><a target="_blank" href="/code/writing-openapi-swagger-specification-tutorial/simple_openapi_specification_02_with_operation.yaml"><i class="fas fa-file-code"></i></a></button>
      <button type="button" class="btn btn-default btn-copy"><i class="fas fa-paste"></i></button>
    </div>
  </div>
  <pre class="language-yaml line-numbers code-collapsed"><code>swagger: "2.0"

info:
  version: 1.0.0
  title: Simple API
  description: A simple API to learn how to write OpenAPI Specification

schemes:
  - https
host: simple.api
basePath: /openapi101

paths:
  /persons:
    get:
      summary: Gets some persons
      description: Returns a list containing all persons.
      responses:
        200:
          description: A list of Person
          schema:
            type: array
            items:
              required:
                - username
              properties:
                firstName:
                  type: string
                lastName:
                  type: string
                username:
                  type: string</code></pre>
  <div class="code-bottom-toolbar"><button type="button" class="btn btn-default btn-block" onclick="toggle(this, this.parentElement.parentElement.children[1], this.parentElement.parentElement.children[0].children[0].children[0], true)"><i class="fa fa-expand" aria-hidden="true"></i></button></div>
</div>

<p>YAML seems definitely more easy to write and read for humans. And almost every tool using OpenAPI specification files handle YAML. In last resort, you can easiliy convert YAML to JSON (and vice versa).</p>

<h2 id="editor">Editor</h2>
<p>Even if an OpenAPI specification is a simple text file which can be edited with any text editor, it’s better to use a specialized one. The best available tool to write Open API Specification file is <em>Swagger Editor</em>. It’s a set of static file allowing you to write and validate Open API Specification in YAML and see a rendering of the written specification.</p>

<div>
      <a href=""><img src="/images/writing-openapi-swagger-specification-tutorial-part-1-introduction/swaggereditor-petstore.png" /></a>
      
    </div>

<p>On the left pane, you write your API definition.
On the right one you see a rendering of your definition and potential syntax errors.</p>

<p>The editor also provides useful snippets to guide you:</p>
<div>
      <a href=""><img src="/images/writing-openapi-swagger-specification-tutorial-part-1-introduction/swagger.editor.gif" /></a>
      
    </div>

<p>You can use the <a href="http://editor.swagger.io/">online version</a> but you can also have your own editor instance on any http server. You just need to download the <a href="https://github.com/swagger-api/swagger-editor/releases/latest">lastest build</a> and serve it with an http server. Go to <a href="https://github.com/swagger-api/swagger-editor/#running-locally">Swagger Editor Github repository</a> for a complete how-to.</p>

<h1 id="what-about-writing-your-first-openapi-specification">What about writing your first OpenAPI Specification?</h1>

<div>
      <img src="/images/writing-openapi-swagger-specification-tutorial-part-1-introduction/jason.gif" />
      <p class="img-label">YAML + editor. You've been warned.</p>
    </div>

<p>We are now ready to proceed to <a href="/writing-openapi-swagger-specification-tutorial-part-2-the-basics/">Part 2 - The basics</a> and write our first API definition using the Open API Specification.</p>

      
  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'https://apihandyman.io/writing-openapi-swagger-specification-tutorial-part-1-introduction/';
      this.page.identifier = 'https://apihandyman.io/writing-openapi-swagger-specification-tutorial-part-1-introduction/';
    };

    (function() {
      var d = document, s = d.createElement('script');

      s.src = 'https://apihandyman.disqus.com/embed.js';

      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


    </div>
  </article>
</div>
<div class="hidden-xs col-sm-2 col-md-2" role="complementary">
  <nav id="toc" data-spy="affix" data-offset-top="400"></nav>
</div>
          </main>
        </div>
      </div>
      <div class="container">
        <div class="row">
          <div class="col-xs-12 col-md-12">
            <footer>
  <nav class="navbar navbar-fixed-bottom">
    <ul class="list-inline">
     <li>
       <a href="/feed.xml"><i class="fa fa-rss-square fa-2x" aria-hidden="true"></i></a>
     </li>
     <li>
      <a href="https://twitter.com/apihandyman"><i class="fab fa-twitter-square fa-2x"></i></a>   
     </li>
     <li>
      <a href="https://github.com/arno-di-loreto"><i class="fab fa-github-square fa-2x"></i></a>   
     </li>
     <li>
      <a href="https://www.linkedin.com/in/arnaudlauret"><i class="fab fa-linkedin fa-2x"></i></a>   
     </li>
    </ul>
  </nav>
</footer>
          </div>
        </div>
      </div>
        <script type="text/javascript" src="/js/jquery.min.js" ></script>
  <script type="text/javascript" src="/js/bootstrap.min.js" ></script>
  
    <script type="text/javascript" src="/js/bootstrap-toc.min.js" ></script>
<script language="javascript">
  $(function() {
    var $myNav = $('#toc');
    var $myScope = $('#post');
    Toc.init({
      $nav: $myNav,
      $scope: $myScope
    });
    $('body').scrollspy({
      target: '#toc'
    });
  });
</script>
<script type="text/javascript" src="/js/anchor.min.js" ></script>
<script language="JavaScript">
  $(function() {
    anchors.options = {
      placement: 'left'
    };
    anchors.add('.blog-container h1');
    anchors.add('.blog-container h2');
    anchors.add('.blog-container h3');
  });
</script>
<script type="text/javascript" src="/js/prism.js" ></script>
<script type="text/javascript" src="/js/clipboard.min.js" ></script>
<script language="JavaScript">
  var clipboard = new Clipboard('.btn-copy', {
    target: function(trigger) {
      return trigger.parentElement.parentElement.parentElement.children[1];
    }
  });
  clipboard.on('success', function(e) {
    e.clearSelection();
    $(e.trigger).html('<i class="fa fa-check" aria-hidden="true"></i>');
    window.setTimeout(function() {
        $(e.trigger).html('<i class="fa fa-clipboard" aria-hidden="true"></i>');
        $(e.trigger).blur();
    }, 1000);
  });
</script>
<script language="JavaScript">
  function toggle(button, code, secondarybutton, scroll) {
    var beforecodeheight = $(code).height(); 
    if($(code).hasClass('code-collapsed')) {
      $(code).removeClass('code-collapsed');
      $(button).html('<i class="fa fa-compress" aria-hidden="true"></i>');
      $(secondarybutton).html('<i class="fa fa-compress" aria-hidden="true"></i>');
      $(button).blur();
    }
    else {
      $(code).addClass('code-collapsed');
      $(button).html('<i class="fa fa-expand" aria-hidden="true"></i>');
      $(secondarybutton).html('<i class="fa fa-expand" aria-hidden="true"></i>');
      $(button).blur();
      if(scroll) {
        var aftercodeheight = $(code).height();
        var afterscroll = $('body').scrollTop();
        var delta = beforecodeheight - aftercodeheight;
        $('body').scrollTop(afterscroll - delta);
      }
    }
  }
</script>
  
  </body>

</html>