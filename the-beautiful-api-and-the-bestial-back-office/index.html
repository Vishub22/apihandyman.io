<!DOCTYPE html>
<html lang="en">

  


<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="apple-touch-icon" href="/images/favicons/favicon.png">
  <link rel="shortcut icon" href="/images/favicons/favicon.ico" type="image/x-icon">
  <link rel="icon" type="image/png" href="/images/favicons/favicon.png">

  <title>The beautiful API and the bestial back-office | API Handyman</title>
  <meta name="description" content="When you design an API (even an internal/private one) upon an existing back office (to plug a mobile application on it for example), you should take care of ...">
  

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@apihandyman">

  <meta name="twitter:title" content="The beautiful API and the bestial back-office">


  <meta name="twitter:url" content="https://apihandyman.io/the-beautiful-api-and-the-bestial-back-office/">


  <meta name="twitter:description" content="When you design an API (even an internal/private one) upon an existing back office (to plug a mobile application on it for example), you should take care of one thing: an API is a display, not a window. An API’s purpose is to expose your data and data processing but an API is only a representation and you’re under no obligation to directly expose the crude reality.">

  <meta name="twitter:image:src" content="https://apihandyman.io/images/the-beautiful-api-and-the-bestial-back-office/thumbnail.png">

  



  <meta name="og:description" content="When you design an API (even an internal/private one) upon an existing back office (to plug a mobile application on it for example), you should take care of one thing: an API is a display, not a window. An API’s purpose is to expose your data and data processing but an API is only a representation and you’re under no obligation to directly expose the crude reality.">

<meta name="og:image" content="https://apihandyman.io/images/the-beautiful-api-and-the-bestial-back-office/thumbnail.png">

  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/prism.css">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" type="text/css" href="/css/asciinema-player.css" />
  <script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script>  <link rel="canonical" href="/the-beautiful-api-and-the-bestial-back-office/">
  <link rel="stylesheet" href="/css/bootstrap-toc.min.css">
  <link rel="alternate" type="application/rss+xml" title="API Handyman" href="/feed.xml">
  
  <script type="text/javascript" src="/js/fingerprint2.min.js" ></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  new Fingerprint2().get(function(clientId) {
    ga('create', 'UA-58046291-1', {
      'storage': 'none',
      'clientId':clientId,
      'storeGac': false
    });
    ga('set', 'anonymizeIp', true);
    ga('send', 'pageview');
  });

</script>
  

  
</head>

  <body>
      <div class="container">
        <div class="row">
          <div class="col-xs-12 col-md-12">
            <!--<header>-->
  <!-- Static navbar -->
  <nav class="navbar navbar-fixed-top full">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <i class="fa fa-bars fa-2x" aria-hidden="true"></i>
        </button>
        <a class="navbar-brand" href="/">API Handyman</a>
      </div>
      <div id="navbar" class="navbar-collapse collapse">
        <ul class="nav navbar-nav navbar-right">
          
          <li class="nav-item nav-dea"><a class="page-link" href="http://bit.ly/designwebapis">My Book: The Design Of Web APIs</a></li>
          <li class="nav-item nav-asb"><a class="page-link" href="http://apistylebook.com/">API Stylebook</a></li>
          <li class="dropdown">
              <a href="#" class="page-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">OpenAPI<span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li class="nav-item nav-oas"><a class="page-link" href="/openapi/">What is the OpenAPI Specification</a></li>
              <li class="nav-item nav-oas"><a class="page-link" href="/explore-the-openapi-specification-3.0-with-the-openapi-map/">OpenAPI Map</a></li>
              <li class="nav-item nav-oas"><a class="page-link" href="/writing-openapi-swagger-specification-tutorial-part-1-introduction/">OpenAPI 2.0 Tutorial</a></li>
            </ul>
          </li>
          <li class="dropdown">
              <a href="#" class="page-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Blog<span class="caret"></span></a>
            <ul class="dropdown-menu">
              
              <li class="nav-item"><a class="page-link" href="/categories/posts">Posts</a></li>
              
              <li class="nav-item"><a class="page-link" href="/categories/talks">Talks</a></li>
              
              <li class="nav-item"><a class="page-link" href="/categories/elsewhere">Elsewhere</a></li>
              
            </ul>
          </li>
          <li class="nav-item"><a class="page-link" href="/about/">About</a></li>
        </ul>
      </div><!--/.nav-collapse -->
    </div><!--/.container-fluid -->
  </nav>
<!--</header>-->
          </div>
        </div>
      </div>
      





<header>
  <!--<div class="container main-container full-jumbotron">-->
      <div class="jumbotron" style="background-image: url('/images/the-beautiful-api-and-the-bestial-back-office/thumbnail.png')">
        <div class="header-caption text-center">
          <h1 class="post-title" itemprop="name headline">The beautiful API and the bestial back-office</h1>
          
        </div>
      </div>
  <!--</div>-->
</header>
      <div class="container main-container">
        <div class = "row">
          <main>
          <div class="hidden-xs hidden-sm col-md-2" role="complementary">
  <nav id="left-banner" data-spy="affix" data-offset-top="400">   
    <div class="book-banner-vertical">
    <p class="book-banner-vertical-top"><a href="http://bit.ly/designwebapis">Read my book</a></p>
    <a href="http://bit.ly/designwebapis"><img class="img-responsive center-block " src="/images/commons/book/book-vertical.png"></a>
    <p class="book-banner-vertical-bottom">(affiliate link, use fcclauret discount code to get 37% off)</p>
</div>
  </nav>
</div>
<div class="col-xs-12 col-sm-9 col-md-8" role="main">
  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <div class="row">
  <div class="col-xs-12 col-sm-12 hidden-md hidden-lg">
      <div class="post-summary book-banner-horizontal">
    <p><a class="post-link" href="http://bit.ly/designwebapis">Read my book (affiliate link, use fcclauret discount code to get 37% off)</a></p>
    <a class="post-link" href="http://bit.ly/designwebapis">
      <img class="img-responsive center-block post-summary-thumbnail" src="/images/commons/book/book-horizontal.png"></a>
  </div>
  </div>
</div>
    <div id="post" class="blog-container" itemprop="articleBody">
      <p class="post-meta">
        
          By
          <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Arnaud Lauret</span></span>
        
        
        &nbsp;&nbsp;|&nbsp;<time datetime="2015-02-16T00:18:26+00:00" itemprop="datePublished">Feb. 16, 2015</time><span>&nbsp;|&nbsp;Posts</span>
      </p>
      <p>When you design an API (even an internal/private one) upon an existing back office (to plug a mobile application on it for example), you should take care of one thing: an API is a display, not a window.
An API’s purpose is to expose your data and data processing but an API is only a <em>representation</em> and you’re under no obligation to directly expose the crude reality.<!--more--></p>

<blockquote>
  <p>What happens in <del>Vegas</del> back office stays in <del>Vegas</del> back office<br />
(<em><a href="http://theweek.com/articles/459434/brief-history-happens-vegas-stays-vegas">famous tag line</a></em>)</p>
</blockquote>

<p>This is even more true if you have a <em>bestial</em> back-office. It’s definitely not a good idea to expose it as it is, you really must hide it behind a <em>beautiful</em> API. It might even brings unexpected benefits.</p>

<p><em>Disclaimer: The events depicted in this post are fictitious. Any similarity to any person or software living or dead is merely coincidental. All inappropriate expressions have been replaced by <a href="http://en.wikipedia.org/wiki/Fonzie">fonz</a> words. No toys were harmed during the making of this post.</em></p>

<h1 id="a-bestial-back-office">A bestial back office</h1>
<p>You own coolvintageornottoys.com the famous cool vintage-or-not toys database and exchange platform.
This website consists of some kind of a more or less monolithic web application plugged on some kind of service oriented architecture.
How your data and the way you process them look like is the result of years of evolution in a close environment leading to a functional but maybe complex system including some fancy things like these…</p>

<div>
      <img src="/images/the-beautiful-api-and-the-bestial-back-office/a-bestial-back-office-page-01.png" />
      
    </div>
<div>
      <img src="/images/the-beautiful-api-and-the-bestial-back-office/a-bestial-back-office-page-02.png" />
      
    </div>
<div>
      <img src="/images/the-beautiful-api-and-the-bestial-back-office/a-bestial-back-office-page-03.png" />
      
    </div>
<div>
      <img src="/images/the-beautiful-api-and-the-bestial-back-office/a-bestial-back-office-page-04.png" />
      
    </div>
<div>
      <img src="/images/the-beautiful-api-and-the-bestial-back-office/a-bestial-back-office-page-05.png" />
      
    </div>
<div>
      <img src="/images/the-beautiful-api-and-the-bestial-back-office/a-bestial-back-office-page-06.png" />
      
    </div>
<div>
      <img src="/images/the-beautiful-api-and-the-bestial-back-office/a-bestial-back-office-page-07.png" />
      
    </div>

<p>… <em>functional but maybe complex system</em>, that’s a pretty euphemism.</p>

<h1 id="the-window-a-bestial-api">The window: a bestial API</h1>
<p>You think it’s time to have a cool mobile application.
You’ve read some things about this and it seems that a mobile application needs an API, so you decide to build one.
This is a very good idea…</p>

<div>
      <img src="/images/the-beautiful-api-and-the-bestial-back-office/a-bestial-api-page-01.png" />
      
    </div>
<div>
      <img src="/images/the-beautiful-api-and-the-bestial-back-office/a-bestial-api-page-02.png" />
      
    </div>

<p>… but not this way.</p>

<p>Exposing your back-office as it is <em>may</em> sound a simple, quick and cheap way to create an API (<em>for those who have think about it a little before starting coding…</em>) especially for a private/internal API, but this is a very short term strategy.
In fact, in the end it will reveal complex, you will spend a lot of time, a lot of money and gain absolutely nothing:</p>

<ul>
  <li>Your API will reflect perfectly your bestial back-office and nobody outside of your company will understand it and be able to use it (and probably inside too…).</li>
  <li>The development of your mobile application will be a nightmare. The guys you will hire to develop it will screw up because they will not understand how does this <em>fonzing</em> API works and because they will have to re-code in the application what should be back-office business logic.</li>
  <li>You will not be ready for other consumers. What had happened for your mobile application will happen again and again with all other consumers of your API.</li>
  <li>You will face high cross-maintenance costs as all your API consumers include heavy business logic.</li>
  <li>Opening your API will be useless (because nobody will be able to use it) and potentially dangerous (if your system’s integrity relies on the consumer).</li>
  <li>Your back-office will not gain anything in the process.</li>
</ul>

<h1 id="the-display-a-beautiful-api">The display: a beautiful API</h1>
<p>Exposing your back-office as it is is definitely not a good idea, but you may ask if it is really possible to create a beautiful API upon all this mess. The answer is yes.</p>

<p>I will not detail fully the designing of such an API and how to plug it on your existing back office. There are many ways to do this and many posts to write about these things and this is not the point of this post.
A <em><a href="http://en.wikipedia.org/wiki/Montage_%28filmmaking%29">montage</a></em> will show you a quick overview of one way of doing it to help the understanding of the potentials unexpected benefits of building a beautiful API to hide your bestial back-office.</p>

<p><em>Beautiful API design and implementation <a href="http://en.wikipedia.org/wiki/Montage_%28filmmaking%29">montage</a> starts.</em></p>

<p>To design a beautiful API offering the same functionalities as your website for your mobile application, you could:</p>

<ul>
  <li>Lists your web site functions and data.</li>
  <li>Rationalize and simplify those functions and data.</li>
  <li>Define rules for your API (data naming, data format, URI definition, HTTP method usage, error handling, …). You could use some things like Rob Zazueta’s <a href="http://www.narwhl.com/">NARWHL</a> or Steve Klabnick and Yehuda Katz <a href="http://jsonapi.org/">json:api</a>.</li>
  <li>Design your API based on these refined data, functions and new rules.</li>
</ul>

<p>Then you could plug your newly design beautiful API to your bestial back office by:</p>

<ul>
  <li>Mapping your API to back-office functions/services.</li>
  <li>Extracting business logic from your web application if necessary.</li>
  <li>Refactoring some services (aggregation, web application business logic integration, …). It would be a good idea to define rules for your new components (you may reuse some rules defined for your API).</li>
  <li>Using a service mediation layer and/or gang of 4 facade pattern to adapt services interfaces.</li>
</ul>

<p><em>Beautiful API design and implementation <a href="http://en.wikipedia.org/wiki/Montage_%28filmmaking%29">montage</a> ends.</em></p>

<p>And now that you have a beautiful API in front of your bestial back office, there are obvious benefits brought by the API itself:</p>

<ul>
  <li>Your API is not only beautiful but it is understandable, usable and reusable by anyone.</li>
  <li>The creation of your mobile application will be fast and easy.</li>
  <li>You’re ready for whatever comes next (opening your API, new consumers, …).</li>
</ul>

<h1 id="an-happy-ending">An happy ending</h1>
<p>But what about the unexpected benefits?</p>

<blockquote>
  <p>Beast was disappeared, and she saw, at her feet, one of the loveliest princes that eye ever beheld<br />
<em>(The beauty and the beast, Jeanne-Marie LePrince de Beaumont)</em></p>
</blockquote>

<p>Like in the fairy tale, the beautiful API has <em>improved</em> the bestial back-office:</p>

<ul>
  <li>You have a rationalized vision of your back-office that will help you for future evolutions or refactoring.</li>
  <li>Some parts of your back-office may have been (beautifully) refactored in the process.</li>
  <li>Some lost knowledge may have been rediscovered.</li>
  <li>You have defined rules (naming, format, error handling, …) you could apply to all your new back office components.</li>
  <li>What about a web site refactoring to plug it to your new API and minimize business logic cross maintenance?</li>
</ul>

<blockquote>
  <p>His subjects received him with joy; he married Beauty, and lived with her many years; and their happiness, as it was founded on virtue, was complete.<br />
The end.<br />
<em>(The beauty and the beast, Jeanne-Marie LePrince de Beaumont)</em></p>
</blockquote>

<p>This is not a fairy tale, it’s reality. Building an API can really help you improve your back-office.
And whatever the case an API <em>must</em> be beautiful (or fear the wrath of your consumers and API believers).
I know, beauty is in the eye of the beholder, but that’s a subject for another post…</p>

      
  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'https://apihandyman.io/the-beautiful-api-and-the-bestial-back-office/';
      this.page.identifier = 'https://apihandyman.io/the-beautiful-api-and-the-bestial-back-office/';
    };

    (function() {
      var d = document, s = d.createElement('script');

      s.src = 'https://apihandyman.disqus.com/embed.js';

      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


    </div>
  </article>
</div>
<div class="hidden-xs col-sm-2 col-md-2" role="complementary">
  <nav id="toc" data-spy="affix" data-offset-top="400"></nav>
</div>
          </main>
        </div>
      </div>
      <div class="container">
        <div class="row">
          <div class="col-xs-12 col-md-12">
            <footer>
  <nav class="navbar navbar-fixed-bottom">
    <ul class="list-inline">
     <li>
       <a href="/feed.xml"><i class="fa fa-rss-square fa-2x" aria-hidden="true"></i></a>
     </li>
     <li>
      <a href="https://twitter.com/apihandyman"><i class="fab fa-twitter-square fa-2x"></i></a>   
     </li>
     <li>
      <a href="https://github.com/arno-di-loreto"><i class="fab fa-github-square fa-2x"></i></a>   
     </li>
     <li>
      <a href="https://www.linkedin.com/in/arnaudlauret"><i class="fab fa-linkedin fa-2x"></i></a>   
     </li>
    </ul>
  </nav>
</footer>
          </div>
        </div>
      </div>
        <script type="text/javascript" src="/js/jquery.min.js" ></script>
  <script type="text/javascript" src="/js/bootstrap.min.js" ></script>
  <script type="text/javascript" src="/js/asciinema-player.js"></script>
  
    <script type="text/javascript" src="/js/bootstrap-toc.min.js" ></script>
<script language="javascript">
  $(function() {
    var $myNav = $('#toc');
    var $myScope = $('#post');
    Toc.init({
      $nav: $myNav,
      $scope: $myScope
    });
    $('body').scrollspy({
      target: '#toc'
    });
  });
</script>
<script type="text/javascript" src="/js/anchor.min.js" ></script>
<script language="JavaScript">
  $(function() {
    anchors.options = {
      placement: 'left'
    };
    anchors.add('.blog-container h1');
    anchors.add('.blog-container h2');
    anchors.add('.blog-container h3');
  });
</script>
<script type="text/javascript" src="/js/prism.js" ></script>
<script type="text/javascript" src="/js/clipboard.min.js" ></script>
<script language="JavaScript">

  var clipboard = new ClipboardJS('.copy-btn', {
      target: function(trigger) {
        console.log(trigger.parentElement.parentElement.parentElement.children[0]);
        return trigger.parentElement.parentElement.parentElement.children[0];
      }
  });

  clipboard.on('success', function(e) {
    e.clearSelection();
    $(e.trigger).html('<i class="fa fa-check"></i>');
    window.setTimeout(function() {
        $(e.trigger).html('<i class="fas fa-paste"></i>');
        $(e.trigger).blur();
    }, 1000);
  });

  clipboard.on('error', function(e) {
    console.error('Action:', e.action);
    console.error('Trigger:', e.trigger);
  });
</script>
<script language="JavaScript">
  function toggle(button, code, secondarybutton, scroll) {
    var beforecodeheight = $(code).height(); 
    if($(code).hasClass('code-collapsed')) {
      $(code).removeClass('code-collapsed');
      $(button).html('<i class="fa fa-compress"></i>');
      $(secondarybutton).html('<i class="fa fa-compress"></i>');
      $(button).blur();
    }
    else {
      $(code).addClass('code-collapsed');
      $(button).html('<i class="fa fa-expand"></i>');
      $(secondarybutton).html('<i class="fa fa-expand"></i>');
      $(button).blur();
      if(scroll) {
        var aftercodeheight = $(code).height();
        var afterscroll = $('body').scrollTop();
        var delta = beforecodeheight - aftercodeheight;
        $('body').scrollTop(afterscroll - delta);
      }
    }
  }
</script>
  
  </body>

</html>