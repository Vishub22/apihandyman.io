<!DOCTYPE html>
<html lang="en">

  


<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="apple-touch-icon" href="/images/favicons/favicon.png">
  <link rel="shortcut icon" href="/images/favicons/favicon.ico" type="image/x-icon">
  <link rel="icon" type="image/png" href="/images/favicons/favicon.png">

  <title>Writing OpenAPI (Swagger) Specification Tutorial - Part 2 - The Basics | API Handyman</title>
  <meta name="description" content="After discovering what is the OpenAPI Specification format, it’s now time to write a first simple OpenAPI Specification file to learn the basics.">
  

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@apihandyman">

  <meta name="twitter:title" content="Writing OpenAPI (Swagger) Specification Tutorial - Part 2 - The Basics">


  <meta name="twitter:url" content="https://apihandyman.io/writing-openapi-swagger-specification-tutorial-part-2-the-basics/">


  <meta name="twitter:description" content="After discovering what is the OpenAPI Specification format, it’s now time to write a first simple OpenAPI Specification file to learn the basics.">

  <meta name="twitter:image:src" content="https://apihandyman.io/images/writing-openapi-swagger-specification-tutorial-part-2-the-basics/thumbnail.png">

  



  <meta name="og:description" content="After discovering what is the OpenAPI Specification format, it’s now time to write a first simple OpenAPI Specification file to learn the basics.">

<meta name="og:image" content="https://apihandyman.io/images/writing-openapi-swagger-specification-tutorial-part-2-the-basics/thumbnail.png">

  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/bootstrap-toc.min.css">
  <link rel="canonical" href="/writing-openapi-swagger-specification-tutorial-part-2-the-basics/">
  <link rel="alternate" type="application/rss+xml" title="API Handyman" href="/feed.xml">
  <script type="text/javascript" src="/js/jquery.min.js" ></script>
  <script type="text/javascript" src="/js/gist-embed.min.js" ></script>
  <script type="text/javascript" src="/js/bootstrap.min.js" ></script>
  <script type="text/javascript" src="/js/anchor.min.js" ></script>
  <script type="text/javascript" src="/js/bootstrap-toc.min.js" ></script>
  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-58046291-1', 'auto');
  ga('send', 'pageview');

</script>
  

  
</head>

  <body>
      <div class="container">
        <div class="row">
          <div class="col-xs-12 col-md-12">
            <!--<header>-->
  <!-- Static navbar -->
  <nav class="navbar navbar-fixed-top full">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <i class="fa fa-bars fa-2x" aria-hidden="true"></i>
        </button>
        <a class="navbar-brand" href="/">API Handyman</a>
      </div>
      <div id="navbar" class="navbar-collapse collapse">
        <ul class="nav navbar-nav navbar-right">
          
          
            <li class="dropdown">
              <a href="#" class="page-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Series: Writing OpenAPI (Swagger) Specification Tutorial<span class="caret"></span></a>
              <ul class="dropdown-menu">
                
                    <li ><a class="page-link" href="/writing-openapi-swagger-specification-tutorial-part-1-introduction/">Part 1 - Introduction</a></li>
                
                    <li  class="disabled" ><a class="page-link" href="/writing-openapi-swagger-specification-tutorial-part-2-the-basics/">Part 2 - The basics</a></li>
                
                    <li ><a class="page-link" href="/writing-openapi-swagger-specification-tutorial-part-3-simplifying-specification-file/">Part 3 - Simplifying specification file</a></li>
                
                    <li ><a class="page-link" href="/writing-openapi-swagger-specification-tutorial-part-4-advanced-data-modeling/">Part 4 - Advanced Data</a></li>
                
                    <li ><a class="page-link" href="/writing-openapi-swagger-specification-tutorial-part-5-advanced-input-and-output-modeling/">Part 5 - Advanced Input And Output Modeling</a></li>
                
                    <li ><a class="page-link" href="/writing-openapi-swagger-specification-tutorial-part-6-defining-security/">Part 6 - Defining Security</a></li>
                
                    <li ><a class="page-link" href="/writing-openapi-swagger-specification-tutorial-part-7-documentation/">Part 7 - Documentation</a></li>
                
                    <li ><a class="page-link" href="/writing-openapi-swagger-specification-tutorial-part-8-splitting-specification-file/">Part 8 - Splitting specification file</a></li>
                
              </ul>
            </li>
          
          
            <li class="nav-item"><a class="page-link" href="/categories/posts">Posts</a></li>
          
            <li class="nav-item"><a class="page-link" href="/categories/talks">Talks</a></li>
          
            <li class="nav-item"><a class="page-link" href="/categories/elsewhere">Elsewhere</a></li>
          
          <li class="nav-item"><a class="page-link" href="/about/">About</a></li>
        </ul>
      </div><!--/.nav-collapse -->
    </div><!--/.container-fluid -->
  </nav>
<!--</header>-->
          </div>
        </div>
      </div>
      





<header>
  <!--<div class="container main-container full-jumbotron">-->
      <div class="jumbotron" style="background-image: url('/images/writing-openapi-swagger-specification-tutorial-part-2-the-basics/thumbnail.png')">
        <div class="header-caption text-center">
          <h1 class="post-title" itemprop="name headline">Part 2 - The basics</h1>
          
            <h2 class="post-subtitle">Writing OpenAPI (Swagger) Specification Tutorial</h2>
          
        </div>
      </div>
  <!--</div>-->
</header>
      <div class="container main-container">
        <div class = "row">
          <main>
          <div class="col-xs-12 col-sm-9 col-md-8 col-md-offset-2" role="main">
  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <div id="post" class="blog-container" itemprop="articleBody">
      <p class="post-meta">
        
          By
          <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Arnaud Lauret</span></span>&nbsp;&nbsp;|&nbsp;
        
        <time datetime="2016-03-02T21:07:29+00:00" itemprop="datePublished">Mar. 2, 2016</time><span>&nbsp;|&nbsp;Posts</span>
      </p>
      <p>After <a href="/writing-openapi-swagger-specification-tutorial-part-1-introduction/">discovering</a> what is the OpenAPI Specification format, it’s now time to write a first simple OpenAPI Specification file to learn the basics.<!--more--></p>

<h1 id="writing-openapi-fka-swagger-specification-tutorial">Writing OpenAPI (fka Swagger) Specification tutorial</h1>
<p>This tutorial is composed of several posts:</p>

<ul>
  <li>Part 1: <a href="/writing-openapi-swagger-specification-tutorial-part-1-introduction/">Introduction</a></li>
  <li>Part 2: <strong>The basics</strong></li>
  <li>Part 3: <a href="/writing-openapi-swagger-specification-tutorial-part-3-simplifying-specification-file/">Simplifying specification file</a></li>
  <li>Part 4: <a href="/writing-openapi-swagger-specification-tutorial-part-4-advanced-data-modeling">Advanced data modeling</a></li>
  <li>Part 5: <a href="/writing-openapi-swagger-specification-tutorial-part-5-advanced-input-and-output-modeling/">Advanced input and output modeling</a></li>
  <li>Part 6: <a href="/writing-openapi-swagger-specification-tutorial-part-6-defining-security">Defining security</a></li>
  <li>Part 7: <a href="/writing-openapi-swagger-specification-tutorial-part-7-documentation/">Documentation</a></li>
  <li>Part 8: <a href="http://apihandyman.io/writing-openapi-swagger-specification-tutorial-part-8-splitting-specification-file/">Splitting specification file</a></li>
  <li>Part 9: Extending the OpenAPI specification (coming soon)</li>
</ul>

<p>All tutorial’s files are available on <a href="https://gist.github.com/arno-di-loreto/5a3df2250721fb154060">gist</a>.</p>

<p>If you’re a bit lost in the <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md">specification</a>, take a look at my [<em>visual documentation:</em></p>
<div>
      <img src="/images/writing-openapi-swagger-specification-tutorial/openapi-specification-visual-documentation.png" />
      <p class="img-label"><a href="http://openapi-specification-visual-documentation.apihandyman.io/">OpenAPI Specification Visual Documentation</a></p>
    </div>

<p>In this second part you will learn how to give some basic informations about your API, describe endpoints using various HTTP methods with path, query and body parameters and returning various HTTP status and responses.</p>

<h1 id="an-almost-empty-openapi-specification">An almost empty OpenAPI Specification</h1>
<p>We’ll start with an almost empty, yet valid, file giving some basic informations.
<code data-gist-id="5a3df2250721fb154060" data-gist-file="simple_openapi_specification_01.yaml" data-gist-footer="true" gist-enable-cache="true"></code></p>

<h2 id="openapi-specification-version">OpenAPI Specification version</h2>
<p>First we need to tell which version of the OpenAPI specification we are using via the <em>swagger</em> attribute…</p>

<p><code data-gist-id="5a3df2250721fb154060" data-gist-file="simple_openapi_specification_01.yaml" data-gist-line="1" data-gist-footer="false" gist-enable-cache="true"></code></p>

<p>Yes, <em>swagger</em>. As explained in the <a href="/writing-openapi-swagger-specification-tutorial-part-1-introduction/">introduction</a>, the OpenAPI specification is based on Swagger. It will probably <a href="https://github.com/OAI/OpenAPI-Specification/issues/561">be replaced by something else</a> in the next version of the specification.
The only possible value is (for now) <em>2.0</em>.</p>

<h2 id="api-description">API description</h2>
<p>Then we give some informations about our API with <em><a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#infoObject">info</a></em>: the API’s <em>version</em> (not to be confused with the specification version and the file version) a <em>title</em> and an optionnal <em>description</em>.
<code data-gist-id="5a3df2250721fb154060" data-gist-file="simple_openapi_specification_01.yaml" data-gist-line="3-6" data-gist-footer="false" gist-enable-cache="true"></code></p>

<h2 id="api-url">API URL</h2>
<p>Speaking of <em>web</em> API, an important information is the root URL which people and programs will use to call it.
This is described by <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#swaggerObject">giving</a> a list of accepted <em>schemes</em> (or protocols, like http or https), a <em>host</em>, and a <em>basepath</em>. 
<code data-gist-id="5a3df2250721fb154060" data-gist-file="simple_openapi_specification_01.yaml" data-gist-line="8-11" data-gist-footer="false" gist-enable-cache="true"></code></p>

<p>All of these APIs endpoints URL will use <em>https://simple.api/open101</em> as base URL.
These informations are not required, an OpenAPI specification without these data is still valid.</p>

<h2 id="api-operations">API operations</h2>
<p>Finally, as our API does absolutely nothing for now, we add an empty paths list. (nb. in YAML an empty object is describe using <em>{}</em>).
<code data-gist-id="5a3df2250721fb154060" data-gist-file="simple_openapi_specification_01.yaml" data-gist-line="13" data-gist-footer="false" gist-enable-cache="true"></code></p>

<h1 id="defining-an-operation">Defining an operation</h1>
<p>Let our API do something by adding an operation to <em>list some persons</em>.
<code data-gist-id="5a3df2250721fb154060" data-gist-file="simple_openapi_specification_02_with_operation.yaml" data-gist-highlight-line="13-32" data-gist-footer="true" gist-enable-cache="true"></code></p>

<h2 id="adding-a-path">Adding a path</h2>
<p>In the <em>paths</em> section we add a new path <em>/persons</em> corresponding to the <em>persons</em> resource.
<code data-gist-id="5a3df2250721fb154060" data-gist-file="simple_openapi_specification_02_with_operation.yaml" data-gist-line="13-14" data-gist-footer="false" gist-enable-cache="true"></code></p>

<h2 id="adding-an-http-method-on-path">Adding an http method on path</h2>
<p>On each <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#pathItemObject">path</a> we can add any <a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Request_methods">http verb</a> (like <em>get</em>, <em>post</em>, <em>put</em> or <em>delete</em>) to manipulate the corresponding resource.
To list some <em>persons</em>, we need to apply the <em>get</em> http method to the <em>/persons</em> resource (or path). We also give a short description (<em>summary</em>) and a longer one if necessary (<em>description</em>).
<code data-gist-id="5a3df2250721fb154060" data-gist-file="simple_openapi_specification_02_with_operation.yaml" data-gist-line="15-17" data-gist-footer="false" gist-enable-cache="true"></code></p>

<p>Therefore to list some persons we’ll have to call <em>get /persons</em> (or <em>get https://simple.api/open101/persons</em> to be precise).</p>

<h2 id="describing-response">Describing response</h2>
<p>For each operation, you can describe any response matching an <a href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes">http status code</a> (like <em>200 OK</em> or <em>404 Not Found</em>) in the <em><a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#responsesObject">responses</a></em> section.
We’ll only handle <em>200</em> when responding to get /persons and we’ll tell what the response means via its <em>description</em>.
<code data-gist-id="5a3df2250721fb154060" data-gist-file="simple_openapi_specification_02_with_operation.yaml" data-gist-line="18-20" data-gist-footer="false" gist-enable-cache="true"></code></p>

<h2 id="describing-responses-content">Describing response’s content</h2>
<p>The <em>get /persons</em> operation returns a list of persons, we describe what it is with the <em><a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#schemaObject">schema</a></em> section of the response.
A list of person is an object which <em>type</em> is <em>array</em>. Each item in this array is an object containing three <em>properties</em> of type <em>string</em>: firstName, lastName and username. Only username will be always provided (i.e. <em>required</em>).
<code data-gist-id="5a3df2250721fb154060" data-gist-file="simple_openapi_specification_02_with_operation.yaml" data-gist-line="21-32" data-gist-footer="false" gist-enable-cache="true"></code></p>

<h1 id="defining-query-parameters">Defining query parameters</h1>
<p>As we’ll have to handle many <em>persons</em>, it could be a good idea to add paging capabilities to the <em>get /resources</em> operation. We’ll do that by adding query parameters to define the requested page and number of items per page.
<code data-gist-id="5a3df2250721fb154060" data-gist-file="simple_openapi_specification_03_with_query_parameters.yaml" data-gist-highlight-line="18-26" data-gist-footer="true" gist-enable-cache="true"></code></p>

<h2 id="adding-a-parameters-section-to-the-get-persons-operation">Adding a parameters section to the get /persons operation</h2>
<p>First we add a <em>parameters</em> section in <em>get</em> http method for <em>/persons</em> path.
<code data-gist-id="5a3df2250721fb154060" data-gist-file="simple_openapi_specification_03_with_query_parameters.yaml" data-gist-line="13-18" data-gist-highlight-line="18" data-gist-footer="false" gist-enable-cache="true"></code></p>

<h2 id="adding-paging-query-parameters">Adding paging query parameters</h2>
<p>Then in the <em>parameters</em> list we define two optional parameters <em>named</em> pageSize and pageNumber of <em>type</em> integer located <em>in</em> query. We also provide a <em>description</em> for each one. <br />
<code data-gist-id="5a3df2250721fb154060" data-gist-file="simple_openapi_specification_03_with_query_parameters.yaml" data-gist-line="18-27" data-gist-highlight-line="19-26" data-gist-footer="false" gist-enable-cache="true"></code></p>

<p>Therefore to list some persons we can use <em>get /persons?pageSize=20&amp;pageNumber=2</em> and we’ll get the page number 2 with 20 persons max.</p>

<h1 id="defining-a-path-parameter">Defining a path parameter</h1>
<p>We would like to access directly a <em>specific person</em> by it’s <em>username</em>, so we’ll add a <em>get /persons/{username}</em> operation to our API. <em>{username}</em> is called a <em>path parameter</em>.
<code data-gist-id="5a3df2250721fb154060" data-gist-file="simple_openapi_specification_04_with_path_parameter.yaml" data-gist-highlight-line="42-66" data-gist-footer="true" gist-enable-cache="true"></code></p>

<h2 id="adding-a-get-personsusername-operation">Adding a get /persons/{username} operation</h2>
<p>First we add a <em>/persons/{username}</em> path, after the <em>/persons</em> one, in the <em>paths</em> section and define the <em>get</em> operation for this path. 
<code data-gist-id="5a3df2250721fb154060" data-gist-file="simple_openapi_specification_04_with_path_parameter.yaml" data-gist-line="1-14" data-gist-highlight-line="13" data-gist-footer="false" gist-enable-cache="true"></code>
<code data-gist-id="5a3df2250721fb154060" data-gist-file="simple_openapi_specification_04_with_path_parameter.yaml" data-gist-line="40-45" data-gist-highlight-line="42-45" data-gist-footer="false" gist-enable-cache="true"></code></p>

<h2 id="describing-username-path-parameter">Describing username path parameter</h2>
<p>As <em>{username}</em> is a path parameter, we need to describe it. It is done by adding a <em>parameters</em> section to the <em>get</em> operation and adding a <em>required</em> parameter with a <em>name</em> matching the parameter defined in the path (here username) located <em>in</em> path of <em>type</em> string. We also provide an optional <em>description</em>.
<code data-gist-id="5a3df2250721fb154060" data-gist-file="simple_openapi_specification_04_with_path_parameter.yaml" data-gist-line="46-51" data-gist-footer="false" gist-enable-cache="true"></code></p>

<p>A common problem when defining path parameter is to forget <em>required: true</em> (as the Swagger Editor snippet do not provide it). If <em>required</em> is not provided, its default value is <em>false</em>, meaning that the parameter is <em>optional</em>. A path parameter is always required.</p>

<h2 id="adding-responses">Adding responses</h2>
<p>Don’t forget to add 200 response returning a <em>person</em>. Note that the schema used in 200 is the same as the array’s item in <em>get /persons</em> 200 response.
<code data-gist-id="5a3df2250721fb154060" data-gist-file="simple_openapi_specification_04_with_path_parameter.yaml" data-gist-line="52-64" data-gist-highlight-line="55-64" data-gist-footer="false" gist-enable-cache="true"></code></p>

<p>As a username may not match an existing person we also add a 404 response. Note that this response do not return anything besides the 404 http status code. 
<code data-gist-id="5a3df2250721fb154060" data-gist-file="simple_openapi_specification_04_with_path_parameter.yaml" data-gist-line="65-66" data-gist-footer="false" gist-enable-cache="true"></code></p>

<h1 id="defining-a-body-parameter">Defining a body parameter</h1>
<p>We would like to have the capability of adding a person to our list of persons so we’ll add a <em>post /persons</em> operation to our API.
<code data-gist-id="5a3df2250721fb154060" data-gist-file="simple_openapi_specification_05_with_body_parameter.yaml" data-gist-highlight-line="42-63" data-gist-footer="true" gist-enable-cache="true"></code></p>

<h2 id="adding-post-persons-operation">Adding post /persons operation</h2>
<p>We first add a post method to the /persons path (after the <em>get</em> one) in the <em>paths</em> section.
<code data-gist-id="5a3df2250721fb154060" data-gist-file="simple_openapi_specification_05_with_body_parameter.yaml" data-gist-line="13-14" data-gist-footer="false" gist-enable-cache="true"></code></p>

<p><code data-gist-id="5a3df2250721fb154060" data-gist-file="simple_openapi_specification_05_with_body_parameter.yaml" data-gist-line="42-44" data-gist-footer="false" gist-enable-cache="true"></code></p>

<h2 id="describing-a-person-body-parameter">Describing a person body parameter</h2>
<p>Then we define a parameter <em>named</em> person located in <em>body</em> of <em>type</em> object. The person object’s is described via it’s <em>schema</em>. Note that this schema is the same as the 200 response of <em>get /persons/{username}</em>. The firstName and lastName attributes are optional and username is <em>required</em>.<br />
<code data-gist-id="5a3df2250721fb154060" data-gist-file="simple_openapi_specification_05_with_body_parameter.yaml" data-gist-line="45-58" data-gist-highlight-line="49-58" data-gist-footer="false" gist-enable-cache="true"></code></p>

<h2 id="defining-responses">Defining responses</h2>
<p>Don’t forget to define responses for this new operation.
<code data-gist-id="5a3df2250721fb154060" data-gist-file="simple_openapi_specification_05_with_body_parameter.yaml" data-gist-line="59-63" data-gist-footer="false" gist-enable-cache="true"></code></p>

<h1 id="to-simplicity-and-beyond">To simplicity and beyond</h1>
<p>You now have learned the basics of the OpenAPI Specification. But as you may have guess, working that way on huge API may not be so easy. But rest assured, the OpenAPI Specification files we’ve seen can be simplified. We’ll learn in the <a href="/writing-openapi-swagger-specification-tutorial-part-3-simplifying-specification-file/">next part</a> how to describe swiftly and easily even the hugest API by using factorization and references.</p>

      
  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'https://apihandyman.io/writing-openapi-swagger-specification-tutorial-part-2-the-basics/';
      this.page.identifier = 'https://apihandyman.io/writing-openapi-swagger-specification-tutorial-part-2-the-basics/';
    };

    (function() {
      var d = document, s = d.createElement('script');

      s.src = 'https://apihandyman.disqus.com/embed.js';

      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


    </div>
    <script language="JavaScript">
        anchors.options = {
          placement: 'left'
        };
        anchors.add('.blog-container h1');
        anchors.add('.blog-container h2');
        anchors.add('.blog-container h3');
    </script>
  </article>
</div>
<div class="hidden-xs col-sm-3 col-md-2" role="complementary">
  <nav id="toc" data-spy="affix" data-offset-top="400"></nav>
  <script language="javascript">
    $(function() {
      console.log('here');
      var $myNav = $('#toc');
      var $myScope = $('#post');
      Toc.init({
        $nav: $myNav,
        $scope: $myScope
      });
      $('body').scrollspy({
        target: '#toc'
      });
    });
  </script>
</div>
          </main>
        </div>
      </div>
      <div class="container">
        <div class="row">
          <div class="col-xs-12 col-md-12">
            <footer>
  <nav class="navbar navbar-fixed-bottom">
    <ul class="list-inline">
     <li>
       <a href="/feed.xml"><i class="fa fa-rss fa-2x" aria-hidden="true"></i></a>
     </li>
     <li>
      <a href="https://twitter.com/apihandyman"><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></a>   
     </li>
     <li>
      <a href="https://github.com/arno-di-loreto"><i class="fa fa-github fa-2x" aria-hidden="true"></i></a>   
     </li>
     <li>
      <a href="https://www.linkedin.com/in/arnaudlauret"><i class="fa fa-linkedin fa-2x" aria-hidden="true"></i></a>   
     </li>
    </ul>
  </nav>
</footer>
          </div>
        </div>
      </div>
  </body>

</html>